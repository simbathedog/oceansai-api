{
  "name": "oceansai-api",
  "version": "0.3.0",
  "type": "module",
  "engines": {
    "node": ">=22.10 <23"
  },
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "pg": "^8.11.3",
    "typescript": "^5.9.2"
  },
  "devDependencies": {
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/node": "^20.11.30",
    "@types/pg": "^8.10.3"
  },
  "scripts": {
    "migrate": "node dist/migrate.js",
    "prestart": "npm run build",
    "start": "node dist/server.js",
    "health": "node scripts/healthcheck.mjs",
    "health:local": "node scripts/healthcheck.mjs http://localhost:3000",
    "health:remote": "node scripts/healthcheck.mjs https://<your-api>.ondigitalocean.app",
    "build": "node ./node_modules/typescript/bin/tsc",
    "prepare": "npm run build",
    "build:site": "npm --prefix site run build && powershell -NoProfile -Command \"Remove-Item -Recurse -Force dist/site-english-latest/public 2>$null; New-Item -ItemType Directory -Force -Path dist/site-english-latest/public | Out-Null; Copy-Item -Recurse -Force site/dist/* dist/site-english-latest/public/\"",
    "publish:site": "pwsh -NoProfile -File .\\Publish-FijiEd.ps1 -PreferGhPages -OpenUrl",
    "publish:site:stamp": "pwsh -NoProfile -File .\\\\Publish-FijiEd.ps1 -PreferGhPages -OpenUrl -Stamp",
    "deploy:site": "npm run build:site && npm run publish:site:stamp",
    "build:site:repo": "npm --prefix site run build -- --base=/oceansai-api/",
    "build:site:domain": "npm --prefix site run build -- --base=/",
    "deploy:site:repo": "npm run build:site:repo && npm run publish:site:stamp",
    "deploy:site:domain": "npm run build:site:domain && npm run publish:site:stamp"
  }
}